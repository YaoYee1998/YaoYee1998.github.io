<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="Yaoyee"><link rel="alternative" href="/atom.xml" title="I'm Yaoyee" type="application/atom+xml"><link rel="icon" href="/favicon.png"><title> - I'm Yaoyee</title><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/js/fancybox/jquery.fancybox.min.css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--><script src="/js/jquery-3.1.1.min.js"></script><script src="/js/fancybox/jquery.fancybox.min.js"></script></head><body style="opacity:0"><header class="head"><h1 class="head-title u-fl"><a href="/">I'm Yaoyee</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a class="head-nav__link" href="/archives">カタログ/（目录）</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"> <time class="post__time" datetime="2018-12-28T11:48:35.910Z">December 28, 2018</time><h1 class="post__title"><a href="/2018/12/28/解决在Android项目gradle build时，总是报错Could not GET xxx, Received status code 400 from server Bad Request的问题/"></a></h1><div class="post__main echo"><h3 id="解决在Android项目gradle-build时，总是报错Could-not-GET-xxx-Received-status-code-400-from-server-Bad-Request的问题"><a href="#解决在Android项目gradle-build时，总是报错Could-not-GET-xxx-Received-status-code-400-from-server-Bad-Request的问题" class="headerlink" title="解决在Android项目gradle build时，总是报错Could not GET xxx, Received status code 400 from server: Bad Request的问题"></a>解决在Android项目gradle build时，总是报错Could not GET xxx, Received status code 400 from server: Bad Request的问题</h3><p>在安卓项目编译的时候，gradle-xx-all.zip配置好了，还是不行，发现还是在去网络上下载东西，其实这时候下载的是gradle的编译插件，也就是build.gradle里的这个东西：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">buildscript &#123;</span><br><span class="line">    repositories &#123;</span><br><span class="line"><span class="comment">//        maven &#123; url 'https://maven.aliyun.com/nexus/content/groups/public/' &#125;</span></span><br><span class="line">        jcenter()</span><br><span class="line">        maven &#123;</span><br><span class="line">            url <span class="string">'https://maven.google.com/'</span></span><br><span class="line">            name <span class="string">'Google'</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    dependencies &#123;</span><br><span class="line">    <span class="comment">// 就是这个东西</span></span><br><span class="line">        classpath <span class="string">'com.android.tools.build:gradle:2.3.4'</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// <span class="doctag">NOTE:</span> Do not place your application dependencies here; they belong</span></span><br><span class="line">        <span class="comment">// in the individual module build.gradle files</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;<span class="number">1234567891011121314151617</span></span><br></pre></td></tr></table></figure>
<p>gradle和gradle插件是不同的概念，下面是对应关系： </p>
<p><img src="https://img-blog.csdn.net/20180911213659113?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xxeF9zdW5oYW4=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述"></p>
<p>所以这个插件会根据你配置在build.gradle中的maven url去远程下载，这里的本地缓存目录在<code>用户目录/.gradle/caches/modules-2/files-2.1/</code>.</p>
<p>重点是我们发现就算配置里阿里云的地址也下载不了，直接报400的错，而且在我们复制下载地址去网页访问发现都是正常的。找半天原因后发现是代理问题。你需要进去你的gradle缓存目录，一般也就是<code>用户目录/.gradle/gradle.properties</code>，把其中配置的所有代理都注释掉就ok了。</p>
<figure class="highlight sh"><figcaption><span>j</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#systemProp.https.proxyPort=80</span></span><br><span class="line"><span class="comment">#systemProp.http.proxyHost=mirrors.neusoft.edu.cn</span></span><br><span class="line"><span class="comment">#systemProp.https.proxyHost=mirrors.neusoft.edu.cn</span></span><br><span class="line"><span class="comment">#systemProp.http.proxyPort=80</span></span><br></pre></td></tr></table></figure>
</div></header></article><div class="comments" id="lv-container" data-id="city" data-uid="your uid"><script>(function(d, s) {var j, e = d.getElementsByTagName(s)[0];if (typeof LivereTower === 'function') { return; } j = d.createElement(s);j.src = 'https://cdn-city.livere.com/js/embed.dist.js';j.async = true;e.parentNode.insertBefore(j, e);})(document, 'script');</script></div></main><footer class="foot"><div class="foot-copy">&copy; 2016-2018 Yaoyee</div></footer><script src="/js/scroller.js"></script><script src="/js/main.js"></script></body></html>